<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MEMBER | Netflix vs Disney+ Presentation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google Fonts for Neon/Cyberpunk Vibe -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&family=Prompt:wght@700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="Photo/M.jpg">
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Prompt', Arial, sans-serif;
      background: linear-gradient(135deg, #181828 0%, #1a1a40 60%, #e509b8 100%);
      overflow: hidden;
      position: relative;
      color: #fff;
      animation: fadeInBody 1.2s cubic-bezier(.4,2,.6,1);
    }
    @keyframes fadeInBody {
      from { opacity: 0;}
      to { opacity: 1;}
    }
    .bg-particle {
      position: fixed;
      left: 0; top: 0; width: 100vw; height: 100vh;
      z-index: 0;
      pointer-events: none;
      opacity: 0.18;
      object-fit: cover;
      filter: blur(1.5px) brightness(1.1) saturate(1.2);
      animation: fadeInBg 2s;
    }
    @keyframes fadeInBg {
      from { opacity: 0; }
      to { opacity: 0.18; }
    }
    .spotlight-cyber {
      position: fixed;
      left: 50%; top: 50%;
      transform: translate(-50%, -50%);
      width: 900px; height: 900px;
      background: radial-gradient(ellipse at center, #fff3 0%, #e509b8 40%, #00e1ff 100%, #181828 100%);
      opacity: 0.18;
      z-index: 1;
      pointer-events: none;
      filter: blur(10px);
      animation: spotlightPulse 6s ease-in-out infinite alternate;
    }
    @keyframes spotlightPulse {
      0% { opacity: 0.13; }
      100% { opacity: 0.22; }
    }
    .team-title-cyber {
      position: absolute;
      left: 50%; top: 10%;
      transform: translate(-50%, 0);
      font-family: 'Orbitron', Arial, sans-serif;
      font-size: 3.2rem;
      font-weight: 900;
      letter-spacing: 3px;
      /* Neon gradient text */
      background: linear-gradient(90deg, #fff 10%, #e509b8 40%, #00e1ff 80%, #fff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow:
        0 0 18px #fff,
        0 0 32px #e509b8,
        0 0 32px #00e1ff,
        0 2px 12px #000,
        2px 2px 0 #e509b8,
        -2px -2px 0 #00e1ff;
      filter: drop-shadow(0 0 24px #fff) drop-shadow(0 0 32px #e509b8) drop-shadow(0 0 32px #00e1ff);
      margin-bottom: 18px;
      user-select: none;
      z-index: 20;
      text-align: center;
      width: 90vw;
      max-width: 900px;
      pointer-events: none;
      letter-spacing: 0.12em;
      animation: slideInTitle 1.2s cubic-bezier(.4,2,.6,1) 0.1s both;
    }
    @keyframes slideInTitle {
      from { opacity: 0; transform: translate(-50%, -60px) scale(0.9);}
      to { opacity: 1; transform: translate(-50%, 0) scale(1);}
    }
    /* Avatars in a circle */
    .avatar-circle-wrap {
      position: absolute;
      left: 50%; top: 52%;
      /* เพิ่ม effect ตอนโหลด: เริ่มต้น slide-in จากขวา */
      transform: translate(80vw, -50%);
      width: 420px; height: 420px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      opacity: 0;
      animation: avatarCircleIn 1.1s cubic-bezier(.4,2,.6,1) 0.2s forwards;
    }
    @keyframes avatarCircleIn {
      from {
        opacity: 0;
        transform: translate(80vw, -50%) scale(0.7) rotate(10deg);
      }
      60% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.08) rotate(-4deg);
      }
      to {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
      }
    }
    .avatar-item {
      position: absolute;
      width: 120px; height: 120px;
      border-radius: 50%;
      box-shadow: 0 0 32px #fff, 0 0 24px #e509b8, 0 0 24px #00e1ff;
      border: 4px solid #fff;
      background: #181828;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.25s, box-shadow 0.25s, z-index 0.2s;
      z-index: 2;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: avatarPop 1.2s cubic-bezier(.4,2,.6,1) backwards;
    }
    .avatar-item:hover, .avatar-item:focus {
      transform: scale(1.18) rotate(-6deg);
      box-shadow: 0 0 64px #e509b8, 0 0 64px #00e1ff, 0 0 32px #fff;
      z-index: 20;
    }
    @keyframes avatarPop {
      from { opacity: 0; transform: scale(0.7);}
      to { opacity: 1; transform: scale(1);}
    }
    /* 5-point circle positions */
    .pos1 { left: 50%; top: 0%;    transform: translate(-50%, 0);}
    .pos2 { left: 93%; top: 28%;   transform: translate(-50%, -50%);}
    .pos3 { left: 77%; top: 85%;   transform: translate(-50%, -50%);}
    .pos4 { left: 23%; top: 85%;   transform: translate(-50%, -50%);}
    .pos5 { left: 7%;  top: 28%;   transform: translate(-50%, -50%);}
    .avatar-img {
      width: 100%; height: 100%;
      object-fit: cover;
      border-radius: 50%;
      display: block;
      filter: brightness(1.08) contrast(1.1) drop-shadow(0 0 12px #fff);
      transition: filter 0.2s;
    }
    /* Neon pulse ring */
    .avatar-pulse {
      position: absolute;
      left: 50%; top: 50%;
      transform: translate(-50%, -50%);
      width: 140px; height: 140px;
      border-radius: 50%;
      border: 3px solid #00e1ff;
      opacity: 0.18;
      z-index: 1;
      pointer-events: none;
      animation: pulseRing 2.2s infinite cubic-bezier(.4,2,.6,1);
    }
    @keyframes pulseRing {
      0% { transform: translate(-50%, -50%) scale(1); opacity: 0.18;}
      60% { transform: translate(-50%, -50%) scale(1.18); opacity: 0.32;}
      100% { transform: translate(-50%, -50%) scale(1); opacity: 0.18;}
    }
    /* Name tag on hover */
    .avatar-info {
      position: absolute;
      left: 50%; top: 110%;
      transform: translate(-50%, 0);
      background: linear-gradient(90deg, #e509b8 0%, #fff 50%, #00e1ff 100%);
      color: #181828;
      font-family: 'Prompt', Arial, sans-serif;
      font-size: 1.1rem;
      font-weight: bold;
      border-radius: 18px;
      padding: 8px 22px;
      box-shadow: 0 0 12px #fff, 0 0 8px #e509b8;
      opacity: 0;
      pointer-events: none;
      white-space: nowrap;
      transition: opacity 0.18s;
      z-index: 30;
      letter-spacing: 1px;
      text-shadow: 0 0 8px #fff;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .avatar-item:hover .avatar-info,
    .avatar-item:focus .avatar-info {
      opacity: 1;
    }
    /* ตัวละครเต้นที่วิ่งออกมา */
    .dancing-char {
      position: fixed;
      top: 60%;
      left: 50%;
      width: 60px;
      height: 60px;
      z-index: 999;
      pointer-events: none;
      animation: dance-move 1.8s cubic-bezier(.4,2,.6,1) forwards;
      will-change: transform, opacity;
    }
    @keyframes dance-move {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.7) rotate(-10deg);
      }
      10% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.1) rotate(10deg);
      }
      60% {
        opacity: 1;
        transform: translate(var(--x), var(--y)) scale(1.1) rotate(-10deg);
      }
      100% {
        opacity: 0;
        transform: translate(var(--x), var(--y)) scale(0.7) rotate(20deg);
      }
    }
    /* Navigation Buttons */
    .neon-nav-btn {
      width: 54px;
      height: 54px;
      border-radius: 50%;
      border: none;
      background: radial-gradient(circle at 60% 40%, #fff 0%, #e509b8 60%, #00e1ff 100%);
      box-shadow: 0 0 24px #e509b8, 0 0 24px #00e1ff, 0 0 12px #fff;
      color: #fff;
      font-size: 2.2rem;
      font-family: 'Orbitron', Arial, sans-serif;
      position: absolute;
      top: 90%;
      transform: translateY(-50%);
      z-index: 100;
      cursor: pointer;
      transition: box-shadow 0.2s, background 0.2s, transform 0.18s;
      outline: none;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0.92;
      border: 2px solid #fff;
    }
    .neon-nav-btn:hover, .neon-nav-btn:focus {
      box-shadow: 0 0 48px #e509b8, 0 0 48px #00e1ff, 0 0 32px #fff;
      background: radial-gradient(circle at 60% 40%, #fff 0%, #e509b8 40%, #00e1ff 100%);
      transform: translateY(-50%) scale(1.08);
    }
    .neon-nav-btn.left { left: 8%; }
    .neon-nav-btn.right { right: 8%; }
    /* Start Presentation Button */
    .start-btn {
      position: absolute;
      left: 50%; bottom: 7%;
      transform: translate(-50%, 0);
      background: radial-gradient(circle at 60% 40%, #fff 0%, #e509b8 60%, #00e1ff 100%);
      color: #181828;
      font-family: 'Orbitron', Arial, sans-serif;
      font-size: 1.5rem;
      font-weight: bold;
      border: none;
      border-radius: 50px;
      padding: 18px 60px;
      box-shadow: 0 0 32px #e509b8, 0 0 32px #00e1ff, 0 0 12px #fff;
      cursor: pointer;
      transition: background 0.2s, color 0.2s, transform 0.18s, box-shadow 0.2s;
      z-index: 30;
      letter-spacing: 2px;
      outline: none;
      overflow: hidden;
      animation: fadeInBtn 1.4s cubic-bezier(.4,2,.6,1) 0.7s backwards;
      display: flex;
      align-items: center;
      gap: 18px;
    }
    .start-btn:hover, .start-btn:focus {
      background: radial-gradient(circle at 60% 40%, #fff 0%, #e509b8 40%, #00e1ff 100%);
      color: #fff;
      box-shadow: 0 0 64px #e509b8, 0 0 64px #00e1ff, 0 0 32px #fff;
      transform: scale(1.06);
    }
    .start-btn .glow {
      position: absolute;
      left: 0; top: 0; width: 100%; height: 100%;
      pointer-events: none;
      border-radius: 50px;
      box-shadow: 0 0 32px #e509b8, 0 0 32px #00e1ff, 0 0 12px #fff;
      opacity: 0.5;
      filter: blur(8px);
      z-index: 0;
      animation: btnGlow 2.5s infinite alternate;
    }
    @keyframes btnGlow {
      0% { opacity: 0.3;}
      100% { opacity: 0.7;}
    }
    @keyframes fadeInBtn {
      from { opacity: 0; transform: translate(-50%, 30%) scale(0.8);}
      to { opacity: 1; transform: translate(-50%, 0) scale(1);}
    }
    /* Responsive */
    @media (max-width: 700px) {
      .avatar-circle-wrap { width: 220px; height: 220px;}
      .avatar-item { width: 60px; height: 60px;}
      .avatar-pulse { width: 70px; height: 70px;}
      .team-title-cyber { font-size: 1.5rem; }
      .start-btn { font-size: 1rem; padding: 10px 24px;}
      .neon-nav-btn { width: 36px; height: 36px; font-size: 1.2rem;}
      .neon-nav-btn.left { left: 2%; }
      .neon-nav-btn.right { right: 2%; }
    }
  </style>
</head>
<body>
  <!-- Neon animated background particles -->
  <img class="bg-particle" src="GIF/GIF1.gif" alt="Neon BG">
  <!-- Spotlight effect -->
  <div class="spotlight-cyber"></div>
  <!-- Title -->
  <div class="team-title-cyber">MEMBER</div>

  <!-- วงกลม Avatar 5 คน -->
  <div class="avatar-circle-wrap">
    <!-- ตัวอย่าง 5 คน (เปลี่ยน src ได้เอง) -->
    <div class="avatar-item pos1" tabindex="0" data-name="Darupon" data-char="GIF/PON.gif">
      <span class="avatar-pulse"></span>
      <img class="avatar-img" src="Photo/PON.jpg" alt="Darupon">
      <!-- Neon floating name -->
      <span class="avatar-info">
        <img class="avatar-char" src="GIF/PON.gif" alt="Funny Guy" style="display:inline-block;">
        Darupon <span style="font-size:0.9em;">(Funny Guy)</span>
      </span>
      <span class="floating-name" style="display:none;">Darupon</span>
    </div>
    <div class="avatar-item pos2" tabindex="0" data-name="Thanatchaya" data-char="GIF/Khaw.gif">
      <span class="avatar-pulse"></span>
      <img class="avatar-img" src="Photo/Khaw.jpg" alt="Thanatchaya">
      <span class="avatar-info">
        <img class="avatar-char" src="GIF/Khaw.gif" alt="Princess" style="display:inline-block;">
        Thanatchaya <span style="font-size:0.9em;">(Princess)</span>
      </span>
      <span class="floating-name" style="display:none;">Thanatchaya</span>
    </div>
    <div class="avatar-item pos3" tabindex="0" data-name="Krittaphon" data-char="GIF/MAX.gif">
      <span class="avatar-pulse"></span>
      <img class="avatar-img" src="Photo/Kritaphon.jpg" alt="Krittaphon">
      <span class="avatar-info">
        <img class="avatar-char" src="GIF/MAX.gif" alt="Wizard" style="display:inline-block;">
        Krittaphon <span style="font-size:0.9em;">(Wizard)</span>
      </span>
      <span class="floating-name" style="display:none;">Krittaphon</span>
    </div>
    <div class="avatar-item pos4" tabindex="0" data-name="Kitsanapon" data-char="GIF/POINT.gif">
      <span class="avatar-pulse"></span>
      <img class="avatar-img" src="GIF/ME.gif" alt="Kitsanapon">
      <span class="avatar-info">
        <img class="avatar-char" src="GIF/POINT.gif" alt="Strategist" style="display:inline-block;">
        Kitsanapon <span style="font-size:0.9em;">(Strategist)</span>
      </span>
      <span class="floating-name" style="display:none;">Kitsanapon</span>
    </div>
    <div class="avatar-item pos5" tabindex="0" data-name="Patthamaphon" data-char="GIF/PICH.gif">
      <span class="avatar-pulse"></span>
      <img class="avatar-img" src="Photo/PICH.jpg" alt="Patthamaphon">
      <span class="avatar-info">
        <img class="avatar-char" src="GIF/PICH.gif" alt="Entertainer" style="display:inline-block;">
        Patthamaphon <span style="font-size:0.9em;">(Entertainer)</span>
      </span>
      <span class="floating-name" style="display:none;">Patthamaphon</span>
    </div>
  </div>

  <!-- ปุ่ม Neon กลับหน้าแรก -->
  <button class="neon-nav-btn left" onclick="window.location.href='index.html'" aria-label="Back">&#8592;</button>
  <!-- ปุ่ม Neon ไปหน้าถัดไป -->
  <button class="neon-nav-btn right" onclick="startAnim(event)" aria-label="Next">&#8594;</button>

  <style>
    /* ...existing styles... */
    .floating-name {
      position: fixed;
      left: 50%; top: 60%;
      font-family: 'Orbitron', Arial, sans-serif;
      font-size: 2.2rem;
      font-weight: 900;
      letter-spacing: 2px;
      color: #fff;
      padding: 0.18em 1.2em;
      border-radius: 32px;
      pointer-events: none;
      z-index: 9999;
      background: linear-gradient(90deg, #181828 0%, #1a1a40 60%, #e509b8 100%);
      border: 2.5px solid #fff;
      box-shadow:
        0 0 24px #e509b8,
        0 0 32px #00e1ff,
        0 0 8px #fff,
        0 0 32px #e509b8 inset,
        0 0 32px #00e1ff inset;
      text-shadow:
        0 0 12px #fff,
        0 0 24px #e509b8,
        0 0 24px #00e1ff,
        0 2px 12px #000,
        2px 2px 0 #e509b8,
        -2px -2px 0 #00e1ff;
      opacity: 0.96;
      animation: float-name-move 2.2s linear forwards;
      display: block;
      white-space: nowrap;
      user-select: none;
      transition: background 0.2s, color 0.2s;
      /* เพิ่ม glow effect */
      filter: drop-shadow(0 0 10px #e509b8) drop-shadow(0 0 10px #00e1ff);
    }
  </style>

  <script>
    // ปุ่ม Next: effect confetti แล้วไปหน้า person1.html
    function startAnim(e) {
      for (let i = 0; i < 18; i++) {
        setTimeout(() => {
          const c = document.createElement('span');
          c.className = 'start-confetti';
          const colors = ['#e509b8', '#fff', '#00e1ff', '#113b7a'];
          c.style.background = colors[Math.floor(Math.random() * colors.length)];
          const rect = (e.target.getBoundingClientRect ? e.target.getBoundingClientRect() : {left:window.innerWidth/2,top:window.innerHeight/2,width:0,height:0});
          c.style.left = (rect.left + rect.width/2 + Math.random()*60-30) + 'px';
          c.style.top = (rect.top + rect.height/2 + Math.random()*10-5) + 'px';
          document.body.appendChild(c);
          setTimeout(() => c.remove(), 1200);
        }, i * 30);
      }
      document.body.style.transition = "opacity 0.7s cubic-bezier(.4,2,.6,1)";
      document.body.style.opacity = 0;
      setTimeout(function () {
        window.location.href = 'person1.html';
      }, 650);
    }
    // Confetti style
    const style = document.createElement('style');
    style.innerHTML = `
      .start-confetti {
        position: fixed;
        width: 18px; height: 18px;
        border-radius: 50%;
        opacity: 0.85;
        z-index: 9999;
        pointer-events: none;
        animation: confettiBurst 1.2s cubic-bezier(.4,2,.6,1);
      }
      @keyframes confettiBurst {
        0% { transform: scale(0.7) translateY(0);}
        60% { transform: scale(1.2) translateY(-60px);}
        100% { transform: scale(0.7) translateY(-120px); opacity: 0;}
      }
    `;
    document.head.appendChild(style);

    // ปุ่ม Next/Back: effect burst + fade + ไปหน้าถัดไป/ก่อนหน้า
    function navBtnAnim(e, url) {
      const btn = e.currentTarget;
      btn.classList.add('clicked');
      // Particle burst
      for (let i = 0; i < 14; i++) {
        setTimeout(() => {
          const c = document.createElement('span');
          c.className = 'start-confetti';
          const colors = ['#e509b8', '#fff', '#00e1ff', '#113b7a'];
          c.style.background = colors[Math.floor(Math.random() * colors.length)];
          const rect = btn.getBoundingClientRect();
          c.style.left = (rect.left + rect.width/2 + Math.random()*40-20) + 'px';
          c.style.top = (rect.top + rect.height/2 + Math.random()*10-5) + 'px';
          document.body.appendChild(c);
          setTimeout(() => c.remove(), 900);
        }, i * 18);
      }
      // Fade out ทั้งหน้า
      document.body.style.transition = "opacity 0.7s cubic-bezier(.4,2,.6,1)";
      document.body.style.opacity = 0;
      setTimeout(function () {
        window.location.href = url;
      }, 500);
    }

    // ใส่ event ให้ปุ่ม
    document.querySelector('.neon-nav-btn.left').onclick = function(e) {
      navBtnAnim(e, 'index.html');
    };
    document.querySelector('.neon-nav-btn.right').onclick = function(e) {
      navBtnAnim(e, 'person1.html');
    };

    // Avatar hover/focus: show name box, spawn dancing character, floating neon name
    document.querySelectorAll('.avatar-item').forEach(item => {
      item.querySelector('.avatar-info').style.opacity = 0;
      let isActive = false; // <-- เพิ่ม flag

      function showInfoAndDance(e) {
        if (isActive) return; // ถ้า effect กำลังทำงานอยู่ ไม่ต้องซ้ำ
        isActive = true;

        // กล่องชื่อ
        item.style.zIndex = 30;
        item.querySelector('.avatar-info').style.opacity = 1;

        // ตัวละครเต้น
        const charSrc = item.getAttribute('data-char');
        const angle = Math.random() * 2 * Math.PI;
        const radius = 250 + Math.random() * 120;
        const x = Math.cos(angle) * radius;
        const y = Math.sin(angle) * radius - 100;
        const dancer = document.createElement('img');
        dancer.src = charSrc;
        dancer.className = 'dancing-char';
        dancer.style.setProperty('--x', `${x}px`);
        dancer.style.setProperty('--y', `${y}px`);
        document.body.appendChild(dancer);
        setTimeout(() => dancer.remove(), 1800);

        // Floating neon name
        const name = item.getAttribute('data-name');
        const floating = document.createElement('span');
        floating.className = 'floating-name';
        floating.textContent = name;
        // สุ่มปลายทาง
        const angle2 = Math.random() * 2 * Math.PI;
        const r2 = 180 + Math.random() * 100;
        const tx = Math.cos(angle2) * r2;
        const ty = Math.sin(angle2) * r2 - 60;
        floating.style.left = '50%';
        floating.style.top = '60%';
        floating.style.setProperty('--x', `${tx}px`);
        floating.style.setProperty('--y', `${ty}px`);
        floating.style.animation = `float-name-move 2.2s linear forwards`;
        floating.animate([
          { opacity: 0, transform: 'translate(-50%, -50%) scale(0.7) rotate(-8deg)' },
          { opacity: 1, transform: 'translate(-50%, -50%) scale(1.1) rotate(8deg)' },
          { opacity: 1, transform: `translate(calc(-50% + ${tx}px), calc(-50% + ${ty}px)) scale(1.1) rotate(-8deg)` },
          { opacity: 0, transform: `translate(calc(-50% + ${tx}px), calc(-50% + ${ty}px)) scale(0.7) rotate(8deg)` }
        ], {
          duration: 2200,
          fill: 'forwards'
        });
        document.body.appendChild(floating);
        setTimeout(() => floating.remove(), 2200);
      }
      function hideInfo() {
        item.style.zIndex = 2;
        item.querySelector('.avatar-info').style.opacity = 0;
        isActive = false; // reset flag เมื่อ mouse ออก
      }

      item.addEventListener('mouseenter', showInfoAndDance);
      item.addEventListener('focus', showInfoAndDance);
      item.addEventListener('mouseleave', hideInfo);
      item.addEventListener('blur', hideInfo);
    });

    // Fade-in/slide-in effect (already in CSS)
    // Sound effect on page load
    window.addEventListener('DOMContentLoaded', () => {
      const ding = document.getElementById('dingSound');
      if (ding) { setTimeout(()=>ding.play(), 300); }
    });

    // Cursor particle effect
    document.addEventListener('mousemove', function(e) {
      for (let i = 0; i < 1; i++) { // 1 particle per move
        const p = document.createElement('span');
        p.className = 'cursor-particle';
        p.style.left = (e.clientX - 7) + 'px';
        p.style.top = (e.clientY - 7) + 'px';
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 700);
      }
    });
  </script>
  
  <script>
    // Fade-in/slide-in effect (already in CSS)
    // Sound effect on page load
    window.addEventListener('DOMContentLoaded', () => {
      const ding = document.getElementById('dingSound');
      if (ding) { setTimeout(()=>ding.play(), 300); }
    });

    // Cursor particle effect
    document.addEventListener('mousemove', function(e) {
      for (let i = 0; i < 1; i++) { // 1 particle per move
        const p = document.createElement('span');
        p.className = 'cursor-particle';
        p.style.left = (e.clientX - 7) + 'px';
        p.style.top = (e.clientY - 7) + 'px';
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 700);
      }
    });

    // Avatar hover/focus: show name box, spawn dancing character, floating neon name
    document.querySelectorAll('.avatar-item').forEach(item => {
      item.querySelector('.avatar-info').style.opacity = 0;
      let isActive = false; // <-- เพิ่ม flag

      function showInfoAndDance(e) {
        if (isActive) return; // ถ้า effect กำลังทำงานอยู่ ไม่ต้องซ้ำ
        isActive = true;

        // กล่องชื่อ
        item.style.zIndex = 30;
        item.querySelector('.avatar-info').style.opacity = 1;

        // ตัวละครเต้น
        const charSrc = item.getAttribute('data-char');
        const angle = Math.random() * 2 * Math.PI;
        const radius = 250 + Math.random() * 120;
        const x = Math.cos(angle) * radius;
        const y = Math.sin(angle) * radius - 100;
        const dancer = document.createElement('img');
        dancer.src = charSrc;
        dancer.className = 'dancing-char';
        dancer.style.setProperty('--x', `${x}px`);
        dancer.style.setProperty('--y', `${y}px`);
        document.body.appendChild(dancer);
        setTimeout(() => dancer.remove(), 1800);

        // Floating neon name
        const name = item.getAttribute('data-name');
        const floating = document.createElement('span');
        floating.className = 'floating-name';
        floating.textContent = name;
        // สุ่มปลายทาง
        const angle2 = Math.random() * 2 * Math.PI;
        const r2 = 180 + Math.random() * 100;
        const tx = Math.cos(angle2) * r2;
        const ty = Math.sin(angle2) * r2 - 60;
        floating.style.left = '50%';
        floating.style.top = '60%';
        floating.style.setProperty('--x', `${tx}px`);
        floating.style.setProperty('--y', `${ty}px`);
        floating.style.animation = `float-name-move 2.2s linear forwards`;
        floating.animate([
          { opacity: 0, transform: 'translate(-50%, -50%) scale(0.7) rotate(-8deg)' },
          { opacity: 1, transform: 'translate(-50%, -50%) scale(1.1) rotate(8deg)' },
          { opacity: 1, transform: `translate(calc(-50% + ${tx}px), calc(-50% + ${ty}px)) scale(1.1) rotate(-8deg)` },
          { opacity: 0, transform: `translate(calc(-50% + ${tx}px), calc(-50% + ${ty}px)) scale(0.7) rotate(8deg)` }
        ], {
          duration: 2200,
          fill: 'forwards'
        });
        document.body.appendChild(floating);
        setTimeout(() => floating.remove(), 2200);
      }
      function hideInfo() {
        item.style.zIndex = 2;
        item.querySelector('.avatar-info').style.opacity = 0;
        isActive = false; // reset flag เมื่อ mouse ออก
      }

      item.addEventListener('mouseenter', showInfoAndDance);
      item.addEventListener('focus', showInfoAndDance);
      item.addEventListener('mouseleave', hideInfo);
      item.addEventListener('blur', hideInfo);
    });
  </script>
</body>
</html>